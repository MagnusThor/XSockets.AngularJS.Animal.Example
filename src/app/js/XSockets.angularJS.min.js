angular.module("XSockets.angularJS",[]).provider("$xsCommunication",function(){var n=this;this.$get=["$q","$rootScope",function(t,i){function h(n,t,f){u.subscribe(n,function(t){i.$apply(function(){r[n].invoke(t)},f)},f)}function c(n,t,f){u.one(n,function(t){i.$apply(function(){r[n].invoke(t)},f)},f)}function l(n,t,f,e){u.many(n,t,function(t){i.$apply(function(){r[n].invoke(t)},e)},e)}function a(n,t){if(r.hasOwnProperty(n))u.unsubscribe(n),delete r[n],t&&t(n);else throw"Missing '"+n+"'.unable to remove binding";}function s(n,t,i){f?u.publish(n,t):e.push({t:n,d:t||{}});i&&i(t,f)}function v(n,t){return r.hasOwnProperty(n)?r[n]:(r[n]=new o,c(n,r[n],t),r[n])}function y(n,t,i){return r.hasOwnProperty(n)?r[n]:(r[n]=new o,l(n,t,r[n],i),r[n])}function p(n,t){return r.hasOwnProperty(n)?r[n]:(r[n]=new o,h(n,r[n],t),r[n])}var f,r={},u,e=[],o=function(){function n(n){this._a=n}return n.prototype.delagate=function(n){return this._a=n,this},n.prototype.invoke=function(n){return this._a(n),this},n}(),w=function(){var r=t.defer();u=new XSockets.WebSocket(n.url);u.on(XSockets.Events.open,function(n){i.$apply(function(){r.resolve(n)})});return r.promise},b=function(){var n=t.defer();u.on(XSockets.Events.close,function(t){i.$apply(function(){n.resolve(t)})});return n.promise},k=function(){var n=t.defer();u.on(XSockets.Events.onError,function(t){i.$apply(function(){n.resolve(t)})});return n.promise},d=function(){return u.clientType()},g=w().then(function(){f=!0;e.forEach(function(n){s(n.t,n.d)});e=[]});return{clientType:d,one:v,many:y,subscribe:p,unsubscribe:a,publish:s,open:g,error:k(),close:b()}}];this.url="ws://127.0.0.1:4502/Generic";this.setUrl=function(n){this.url=n}});
/*
//# sourceMappingURL=XSockets.angularJS.min.js.map
*/